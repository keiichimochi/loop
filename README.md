# Video Loop Creator

動画をトリミングして完璧なループ動画を作成するWebアプリケーションナリ！

![Video Loop Creator](https://img.shields.io/badge/Built%20with-Remix-blue)
![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?logo=typescript&logoColor=white)
![Tailwind CSS](https://img.shields.io/badge/Tailwind%20CSS-38B2AC?logo=tailwind-css&logoColor=white)
![MP4 Output](https://img.shields.io/badge/Output-MP4-green)

## 🎥 機能

- **動画アップロード**: ドラッグ&ドロップまたはファイル選択で動画をアップロード
- **ドラッグ可能なマーカー**: タイムバーの緑・赤ガイドをドラッグして直感的にトリミング位置を設定
- **精密なタイムライン操作**: マウスクリックや細かいボタンで正確な時間指定
- **フレーム単位の微調整**: 1フレーム単位での正確な編集が可能
- **可変フレームレート対応**: 24fps～120fpsまで手動設定可能
- **リアルタイムループ再生**: ドラッグ中に同期してループが正しく動作
- **視覚的な範囲表示**: 黄色（現在時間まで）と緑色（設定範囲）で明確に区別
- **キーボードショートカット**: 効率的な操作のための豊富なショートカット
- **MP4出力**: 高品質なMP4形式でダウンロード（WebMフォールバック対応）
- **レスポンシブデザイン**: PC・タブレット・スマホ対応

## ⌨️ キーボードショートカット

| キー | 機能 |
|------|------|
| `Space` | 再生/停止 |
| `I` | 現在の時間を開始点に設定 |
| `O` | 現在の時間を終了点に設定 |
| `R` | ループの開始点にジャンプ |
| `←→` | 1秒単位で移動 |
| `Shift + ←→` | 0.1秒単位で移動 |
| `Ctrl/Cmd + ←→` | 1フレーム単位で移動 |

## 🚀 セットアップ

### 前提条件

- Node.js 18以上
- npm または yarn

### インストール

```bash
# リポジトリをクローン
git clone <repository-url>
cd video-loop-app

# 依存関係をインストール
npm install

# 開発サーバーを起動
npm run dev
```

アプリは `http://localhost:5173` で起動しますナリ。

## 📁 プロジェクト構成

```
video-loop-app/
├── app/
│   ├── routes/
│   │   └── _index.tsx          # メインページ
│   ├── utils/
│   │   └── simpleVideoProcessor.ts  # 動画処理ロジック
│   ├── root.tsx                # アプリのルート
│   └── tailwind.css           # スタイル
├── public/                     # 静的ファイル
└── package.json
```

## 🛠️ 技術スタック

- **フレームワーク**: [Remix](https://remix.run/) (React Router v7ベース)
- **スタイリング**: [Tailwind CSS](https://tailwindcss.com/)
- **アイコン**: [Lucide React](https://lucide.dev/)
- **TypeScript**: 型安全な開発
- **動画処理**: ブラウザネイティブのCanvas API + MediaRecorder API

## 🎯 使い方

1. **動画をアップロード**: メイン画面で動画ファイルを選択またはドラッグ&ドロップ
2. **ループ範囲を設定**:
   - **ドラッグ操作**: タイムバーの**緑のマーカー**（開始点）と**赤のマーカー**（終了点）を直接ドラッグして直感的に設定
   - タイムラインをクリックして再生位置を移動
   - `I`キーまたは「開始時間に設定」ボタンでループ開始点を設定
   - `O`キーまたは「終了時間に設定」ボタンでループ終了点を設定
   - 細かい調整は±0.01秒、±0.1秒ボタンを使用
   - **フレーム単位の微調整**: タイムライン上のフレーム操作ボタンまたは`Ctrl/Cmd + ←→`キーで1フレーム単位の移動
   - フレームレートは24fps～120fpsの間で手動設定可能
3. **プレビュー**:
   - 「ループ範囲再生」ボタンで設定された開始～終了範囲をループ再生
   - 黄色い範囲が現在時間までのループ範囲を表示
   - 緑色の範囲が設定された最終的なループ範囲
   - **ドラッグ中も同期**: マーカーを動かしながらリアルタイムでループが調整される
4. **ダウンロード**: 「ループ動画をダウンロード」ボタンで高品質なMP4形式でダウンロード

## 📋 対応フォーマット

### 入力
- MP4
- WebM
- AVI
- MOV
- その他ブラウザでサポートされている動画フォーマット

### 出力
- MP4 (H.264/AACコーデック) - 優先
- WebM (VP9コーデック) - フォールバック

## 🔧 開発

### 開発サーバー起動
```bash
npm run dev
```

### ビルド
```bash
npm run build
```

### プレビュー
```bash
npm run preview
```

## 🌟 特徴

- **ノーサーバー処理**: すべての動画処理がブラウザ内で完結
- **プライバシー重視**: 動画ファイルが外部に送信されることはありません
- **高速**: リアルタイムプレビューで効率的な編集
- **直感的UI**: 使いやすいタイムラインと明確な視覚フィードバック

## 📝 制限事項

- 出力フォーマットはMP4優先、未対応ブラウザではWebMフォールバック（ブラウザ内処理のため）
- 非常に大きな動画ファイルは処理に時間がかかる場合があります
- ブラウザのメモリ制限により、極端に長い動画は処理できない場合があります
- ドラッグ操作はデスクトップ環境での使用を推奨

## 🤝 コントリビューション

1. このリポジトリをフォーク
2. 機能ブランチを作成 (`git checkout -b feature/amazing-feature`)
3. 変更をコミット (`git commit -m 'Add some amazing feature'`)
4. ブランチにプッシュ (`git push origin feature/amazing-feature`)
5. Pull Requestを作成

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

---

作成者: AI Assistant ナリ！🤖